{"version":3,"sources":["Header.js","Contacts.js","Login.js","App.js","index.js"],"names":["Header","React","createElement","className","src","style","width","alt","Contacts","contacts","setContacts","useState","useEffect","fetchContacts","async","data","axios","get","e","console","log","map","renderContact","contact","i","properties","firstname","value","Login","_ref","onLogin","username","setUsername","password","setPassword","status","setStatus","type","onChange","target","disabled","onClick","post","params","App","accessToken","setAccessToken","user","setUser","isLoading","setIsLoading","fetchAccessToken","userId","id","fontSize","href","concat","ReactDOM","render","document","getElementById"],"mappings":"uOAWeA,MATAA,IAEXC,IAAAC,cAAA,OAAKC,UAAU,UACbF,IAAAC,cAAA,OAAKE,IAAI,aAAaC,MAAO,CAAEC,MAAO,SAAWC,IAAI,UAAU,6BC0BtDC,MA5BEA,KACf,MAAOC,EAAUC,GAAeC,mBAAS,IAEzCC,oBAAU,KACRC,KACC,IAEH,MAAMA,EAAgBC,UACpB,IACE,MAAM,KAAEC,SAAeC,IAAMC,IAAI,iBACjCP,EAAYK,GACZ,MAAOG,GACPC,QAAQC,IAAIF,KAQhB,OACEjB,IAAAC,cAAA,WACED,IAAAC,cAAA,UAAI,oCACHO,EAASY,IAPQC,CAACC,EAASC,IACvBvB,IAAAC,cAAA,WAAMqB,EAAQE,WAAWC,UAAUC,UC4C/BC,MA7DDC,IAAkB,IAAjB,QAAEC,GAASD,EACxB,MAAOE,EAAUC,GAAerB,mBAAS,KAClCsB,EAAUC,GAAevB,mBAAS,KAClCwB,EAAQC,GAAazB,mBAAS,IA2BrC,OACEV,IAAAC,cAAA,WAAK,YAEHD,IAAAC,cAAA,SACEmC,KAAK,QACLV,MAAOI,EACPO,SAAWpB,GAAMc,EAAYd,EAAEqB,OAAOZ,SACtC,YAEF1B,IAAAC,cAAA,SACEmC,KAAK,WACLV,MAAOM,EACPK,SAAWpB,GAAMgB,EAAYhB,EAAEqB,OAAOZ,SAExC1B,IAAAC,cAAA,SACEmC,KAAK,SACLV,MAAM,UACNa,UAAWT,IAAaE,EACxBQ,QA3CgB3B,UACpB,UACQE,IAAM0B,KAAK,eAAgB,CAAEX,WAAUE,aAC7CG,EAAU,yCACV,MAAOlB,GACPC,QAAQC,IAAIF,GACZkB,EAAU,kEAuCVnC,IAAAC,cAAA,SACEmC,KAAK,SACLV,MAAM,QACNa,UAAWT,IAAaE,EACxBQ,QAvCe3B,UACnB,IACE,MAAM,KAAEC,SAAeC,IAAMC,IAAI,aAAc,CAC7C0B,OAAQ,CACNZ,WACAE,cAGJH,EAAQf,GACR,MAAOG,GACPC,QAAQC,IAAIF,GACZkB,EAAU,sCA8BVnC,IAAAC,cAAA,WAAMiC,KCUGS,MA9DHA,KACV,MAAOC,EAAaC,GAAkBnC,mBAAS,OACxCoC,EAAMC,GAAWrC,mBAAS,OAC1BsC,EAAWC,GAAgBvC,oBAAS,GAE3CC,oBAAU,KACJmC,GACFI,KAED,CAACJ,IAEJ,MAAMI,EAAmBrC,UACvBoC,GAAa,GACb,IACE,MAAM,KAAEnC,SAAeC,IAAMC,IAAI,wBAAyB,CACxD0B,OAAQ,CACNS,OAAQL,EAAKM,MAGjBP,EAAe/B,GACf,MAAOG,GACPC,QAAQC,IAAIF,GAEdgC,GAAa,IA+Bf,OACEjD,IAAAC,cAAA,OAAKC,UAAU,OACbF,IAAAC,cAACF,EAAM,MACPC,IAAAC,cAAA,OAAKC,UAAU,WA9BZ4C,EAGDE,EACKhD,IAAAC,cAAA,WAAK,uCAEV2C,EAEA5C,IAAAC,cAAA,WACED,IAAAC,cAAA,WAAK,uCAA0C,IAC/CD,IAAAC,cAAA,WAAK,iBACLD,IAAAC,cAAA,OAAKG,MAAO,CAAEiD,SAAU,QAAUT,GAClC5C,IAAAC,cAACM,EAAQ,OAKbP,IAAAC,cAAA,WACED,IAAAC,cAAA,WAAK,sCACiC,IACpCD,IAAAC,cAAA,KAAGqD,KAAI,wBAAAC,OAA0BT,EAAKM,KAAM,cAE9CpD,IAAAC,cAAA,SAAOmC,KAAK,SAASI,QAASU,EAAkBxB,MAAM,iBArBjD1B,IAAAC,cAAC0B,EAAK,CAACE,QAAUiB,GAASC,EAAQD,QC/B/CU,IAASC,OAAOzD,IAAAC,cAAC0C,EAAG,MAAKe,SAASC,eAAe,W","file":"static/js/main.198539b1.chunk.js","sourcesContent":["import React from \"react\";\n\nconst Header = () => {\n  return (\n    <div className=\"header\">\n      <img src=\"/waldo.png\" style={{ width: \"100px\" }} alt=\"waldo\" />\n      Where's Waldo HubSpot App\n    </div>\n  );\n};\n\nexport default Header;\n","import axios from \"axios\";\nimport React, { useState, useEffect } from \"react\";\n\nconst Contacts = () => {\n  const [contacts, setContacts] = useState([]);\n\n  useEffect(() => {\n    fetchContacts();\n  }, []);\n\n  const fetchContacts = async () => {\n    try {\n      const { data } = await axios.get(\"/api/contacts\");\n      setContacts(data);\n    } catch (e) {\n      console.log(e);\n    }\n  };\n\n  const renderContact = (contact, i) => {\n    return <div>{contact.properties.firstname.value}</div>;\n  };\n\n  return (\n    <div>\n      <h2>Contacts from connected account:</h2>\n      {contacts.map(renderContact)}\n    </div>\n  );\n};\n\nexport default Contacts;\n","import axios from \"axios\";\nimport React, { useState } from \"react\";\n\nconst Login = ({ onLogin }) => {\n  const [username, setUsername] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [status, setStatus] = useState(\"\");\n\n  const signUpRequest = async () => {\n    try {\n      await axios.post(\"/api/sign-up\", { username, password });\n      setStatus(\"Successfully signed up. Please log in\");\n    } catch (e) {\n      console.log(e);\n      setStatus(\"Sign up failed. Please try again with a different username\");\n    }\n  };\n\n  const loginRequest = async () => {\n    try {\n      const { data } = await axios.get(\"/api/login\", {\n        params: {\n          username,\n          password,\n        },\n      });\n      onLogin(data);\n    } catch (e) {\n      console.log(e);\n      setStatus(\"Login failed. Please try again\");\n    }\n  };\n\n  return (\n    <div>\n      Username:\n      <input\n        type=\"input\"\n        value={username}\n        onChange={(e) => setUsername(e.target.value)}\n      />\n      Password:\n      <input\n        type=\"password\"\n        value={password}\n        onChange={(e) => setPassword(e.target.value)}\n      />\n      <input\n        type=\"button\"\n        value=\"sign up\"\n        disabled={!username || !password}\n        onClick={signUpRequest}\n      />\n      <input\n        type=\"button\"\n        value=\"login\"\n        disabled={!username || !password}\n        onClick={loginRequest}\n      />\n      <div>{status}</div>\n    </div>\n  );\n};\n\nexport default Login;\n","import \"./styles.css\";\nimport axios from \"axios\";\nimport React, { useEffect, useState } from \"react\";\nimport Header from \"./Header\";\nimport Contacts from \"./Contacts\";\nimport Login from \"./Login\";\n\nconst App = () => {\n  const [accessToken, setAccessToken] = useState(null);\n  const [user, setUser] = useState(null);\n  const [isLoading, setIsLoading] = useState(true);\n\n  useEffect(() => {\n    if (user) {\n      fetchAccessToken();\n    }\n  }, [user]);\n\n  const fetchAccessToken = async () => {\n    setIsLoading(true);\n    try {\n      const { data } = await axios.get(`/oauth/install-status`, {\n        params: {\n          userId: user.id,\n        },\n      });\n      setAccessToken(data);\n    } catch (e) {\n      console.log(e);\n    }\n    setIsLoading(false);\n  };\n\n  const renderContent = () => {\n    if (!user) {\n      return <Login onLogin={(user) => setUser(user)} />;\n    }\n    if (isLoading) {\n      return <div>Loading Access Token For Session...</div>;\n    }\n    if (accessToken) {\n      return (\n        <div>\n          <div>You have installed the HubSpot app!</div>{\" \"}\n          <div>Access Token:</div>\n          <div style={{ fontSize: \"7px\" }}>{accessToken}</div>\n          <Contacts />\n        </div>\n      );\n    }\n    return (\n      <div>\n        <div>\n          You need to install the HubSpot App{\" \"}\n          <a href={`oauth/install?userId=${user.id}`}>(Install)</a>\n        </div>\n        <input type=\"button\" onClick={fetchAccessToken} value=\"Retry fetch\" />\n      </div>\n    );\n  };\n\n  return (\n    <div className=\"app\">\n      <Header />\n      <div className=\"content\">{renderContent()}</div>\n    </div>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}