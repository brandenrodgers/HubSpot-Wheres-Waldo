{"version":3,"sources":["UIComponents/Flex.js","Header.js","Login.js","Contacts.js","Account.js","Leaderboard.js","App.js","index.js"],"names":["Flex","_ref","children","className","direction","align","justify","gap","React","createElement","style","display","flexDirection","alignItems","justifyContent","Header","src","width","alt","Login","onLogin","username","setUsername","useState","password","setPassword","status","setStatus","type","value","onChange","e","target","disabled","onClick","async","axios","post","console","log","data","get","params","Contacts","contacts","setContacts","useEffect","fetchContacts","map","renderContact","contact","i","properties","firstname","Account","updateUser","user","accessToken","setAccessToken","isLoading","setIsLoading","fetchAccessToken","public","fontSize","href","Leaderboard","leaderboard","setLeaderboard","fetchLeaderboard","score","key","App","setUser","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.09c8a32b.chunk.js","sourcesContent":["import React from \"react\";\n\nconst Flex = ({ children, className, direction, align, justify, gap }) => {\n  return (\n    <div\n      className={className}\n      style={{\n        display: \"flex\",\n        flexDirection: direction,\n        alignItems: align,\n        justifyContent: justify,\n        gap,\n      }}\n    >\n      {children}\n    </div>\n  );\n};\n\nexport default Flex;\n","import React from \"react\";\nimport Flex from \"./UIComponents/Flex\";\n\nconst Header = () => {\n  return (\n    <Flex className=\"header\" align=\"center\" direction=\"column\">\n      <img src=\"/waldo.png\" style={{ width: \"100px\" }} alt=\"waldo\" />\n      Where's Waldo HubSpot App\n    </Flex>\n  );\n};\n\nexport default Header;\n","import axios from \"axios\";\nimport React, { useState } from \"react\";\nimport Flex from \"./UIComponents/Flex\";\n\nconst Login = ({ onLogin }) => {\n  const [username, setUsername] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [status, setStatus] = useState(\"\");\n\n  const signUpRequest = async () => {\n    try {\n      await axios.post(\"/api/sign-up\", { username, password });\n      setStatus(\"Successfully signed up. Please log in\");\n    } catch (e) {\n      console.log(e);\n      setStatus(\"Sign up failed. Please try again with a different username\");\n    }\n  };\n\n  const loginRequest = async () => {\n    try {\n      const { data } = await axios.get(\"/api/login\", {\n        params: {\n          username,\n          password,\n        },\n      });\n      onLogin(data);\n    } catch (e) {\n      console.log(e);\n      setStatus(\"Login failed. Please try again\");\n    }\n  };\n\n  return (\n    <Flex direction=\"column\" align=\"center\" gap=\"10px\">\n      <div>\n        <span className=\"p-right\">Username:</span>\n        <input\n          type=\"input\"\n          value={username}\n          onChange={(e) => setUsername(e.target.value)}\n        />\n      </div>\n      <div>\n        <span className=\"p-right\">Password:</span>\n        <input\n          type=\"password\"\n          value={password}\n          onChange={(e) => setPassword(e.target.value)}\n        />\n      </div>\n      <div>\n        <input\n          className=\"m-right\"\n          type=\"button\"\n          value=\"sign up\"\n          disabled={!username || !password}\n          onClick={signUpRequest}\n        />\n        <input\n          type=\"button\"\n          value=\"login\"\n          disabled={!username || !password}\n          onClick={loginRequest}\n        />\n      </div>\n      <div>{status}</div>\n    </Flex>\n  );\n};\n\nexport default Login;\n","import axios from \"axios\";\nimport React, { useState, useEffect } from \"react\";\n\nconst Contacts = () => {\n  const [contacts, setContacts] = useState([]);\n\n  useEffect(() => {\n    fetchContacts();\n  }, []);\n\n  const fetchContacts = async () => {\n    try {\n      const { data } = await axios.get(\"/api/contacts\");\n      setContacts(data);\n    } catch (e) {\n      console.log(e);\n    }\n  };\n\n  const renderContact = (contact, i) => {\n    return <div>{contact.properties.firstname.value}</div>;\n  };\n\n  return (\n    <div>\n      <h2>Contacts from connected account:</h2>\n      {contacts.map(renderContact)}\n    </div>\n  );\n};\n\nexport default Contacts;\n","import axios from \"axios\";\nimport React, { useEffect, useState } from \"react\";\nimport Contacts from \"./Contacts\";\n\nconst Account = ({ updateUser, user }) => {\n  const [accessToken, setAccessToken] = useState(null);\n  const [isLoading, setIsLoading] = useState(true);\n\n  useEffect(() => {\n    fetchAccessToken();\n  }, []);\n\n  const fetchAccessToken = async () => {\n    setIsLoading(true);\n    try {\n      const { data } = await axios.get(\"/oauth/install-status\");\n      setAccessToken(data);\n    } catch (e) {\n      console.log(e);\n    }\n    setIsLoading(false);\n  };\n\n  const togglePrivate = async () => {\n    try {\n      const { data } = await axios.post(\"/api/user-settings\", {\n        public: !user.public,\n      });\n      updateUser(data);\n    } catch (e) {\n      console.log(e);\n    }\n  };\n\n  const renderAuthStatus = () => {\n    if (accessToken) {\n      return (\n        <div>\n          <div>Hi {user.username}, you have installed the HubSpot app!</div>\n          <div>Access Token:</div>\n          <div style={{ fontSize: \"7px\" }}>{accessToken}</div>\n          <Contacts />\n        </div>\n      );\n    }\n    return (\n      <div>\n        <div>\n          Hi {user.username}, you need to install the HubSpot App{\" \"}\n          <a href=\"oauth/install\">(Install)</a>\n        </div>\n        <input type=\"button\" onClick={fetchAccessToken} value=\"Retry fetch\" />\n      </div>\n    );\n  };\n\n  if (isLoading) {\n    return <div>Loading Access Token For Session...</div>;\n  }\n\n  return (\n    <div>\n      <h2>Hi {user.username}</h2>\n      <input\n        type=\"button\"\n        onClick={togglePrivate}\n        value={user.public ? \"Make private\" : \"Make public\"}\n      />\n      {renderAuthStatus()}\n    </div>\n  );\n};\n\nexport default Account;\n","import axios from \"axios\";\nimport React, { useEffect, useState } from \"react\";\nimport Flex from \"./UIComponents/Flex\";\n\nconst Leaderboard = () => {\n  const [leaderboard, setLeaderboard] = useState([]);\n\n  useEffect(() => {\n    fetchLeaderboard();\n  }, []);\n\n  const fetchLeaderboard = async () => {\n    try {\n      const { data } = await axios.get(\"/api/leaderboard\");\n      setLeaderboard(data);\n    } catch (e) {\n      console.log(e);\n    }\n  };\n\n  const renderLeaders = () => {\n    return (\n      <ul>\n        {leaderboard.map(({ username, score }, i) => (\n          <li key={i}>\n            {username}: {score}\n          </li>\n        ))}\n      </ul>\n    );\n  };\n\n  return (\n    <Flex className=\"leaderboard\" align=\"center\" direction=\"column\">\n      <h1>Leaderboard</h1>\n      <span>Make your account public to show up in the leaderboard</span>\n      {renderLeaders()}\n    </Flex>\n  );\n};\n\nexport default Leaderboard;\n","import \"./styles.css\";\nimport React, { useState } from \"react\";\nimport Header from \"./Header\";\nimport Login from \"./Login\";\nimport Account from \"./Account\";\nimport Flex from \"./UIComponents/Flex\";\nimport Leaderboard from \"./Leaderboard\";\n\nconst App = () => {\n  const [user, setUser] = useState(null);\n\n  const renderAccount = () => {\n    if (!user) {\n      return <Login onLogin={(user) => setUser(user)} />;\n    }\n    return <Account updateUser={setUser} user={user} />;\n  };\n\n  return (\n    <div className=\"app\">\n      <Header />\n      <Flex className=\"content\" justify=\"center\">\n        {renderAccount()}\n      </Flex>\n      <Leaderboard />\n    </div>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}