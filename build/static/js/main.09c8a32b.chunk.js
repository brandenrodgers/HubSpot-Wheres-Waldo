(this["webpackJsonpwheres-waldo"]=this["webpackJsonpwheres-waldo"]||[]).push([[0],{10:function(e,t,a){e.exports=a(20)},15:function(e,t,a){},20:function(e,t,a){"use strict";a.r(t);var n=a(1),l=a.n(n),c=a(9),r=a.n(c);a(15);var s=e=>{let{children:t,className:a,direction:n,align:c,justify:r,gap:s}=e;return l.a.createElement("div",{className:a,style:{display:"flex",flexDirection:n,alignItems:c,justifyContent:r,gap:s}},t)};var u=()=>l.a.createElement(s,{className:"header",align:"center",direction:"column"},l.a.createElement("img",{src:"/waldo.png",style:{width:"100px"},alt:"waldo"}),"Where's Waldo HubSpot App"),i=a(21);var o=e=>{let{onLogin:t}=e;const[a,c]=Object(n.useState)(""),[r,u]=Object(n.useState)(""),[o,m]=Object(n.useState)("");return l.a.createElement(s,{direction:"column",align:"center",gap:"10px"},l.a.createElement("div",null,l.a.createElement("span",{className:"p-right"},"Username:"),l.a.createElement("input",{type:"input",value:a,onChange:e=>c(e.target.value)})),l.a.createElement("div",null,l.a.createElement("span",{className:"p-right"},"Password:"),l.a.createElement("input",{type:"password",value:r,onChange:e=>u(e.target.value)})),l.a.createElement("div",null,l.a.createElement("input",{className:"m-right",type:"button",value:"sign up",disabled:!a||!r,onClick:async()=>{try{await i.a.post("/api/sign-up",{username:a,password:r}),m("Successfully signed up. Please log in")}catch(e){console.log(e),m("Sign up failed. Please try again with a different username")}}}),l.a.createElement("input",{type:"button",value:"login",disabled:!a||!r,onClick:async()=>{try{const{data:e}=await i.a.get("/api/login",{params:{username:a,password:r}});t(e)}catch(e){console.log(e),m("Login failed. Please try again")}}})),l.a.createElement("div",null,o))};var m=()=>{const[e,t]=Object(n.useState)([]);Object(n.useEffect)(()=>{a()},[]);const a=async()=>{try{const{data:e}=await i.a.get("/api/contacts");t(e)}catch(e){console.log(e)}};return l.a.createElement("div",null,l.a.createElement("h2",null,"Contacts from connected account:"),e.map((e,t)=>l.a.createElement("div",null,e.properties.firstname.value)))};var p=e=>{let{updateUser:t,user:a}=e;const[c,r]=Object(n.useState)(null),[s,u]=Object(n.useState)(!0);Object(n.useEffect)(()=>{o()},[]);const o=async()=>{u(!0);try{const{data:e}=await i.a.get("/oauth/install-status");r(e)}catch(e){console.log(e)}u(!1)};return s?l.a.createElement("div",null,"Loading Access Token For Session..."):l.a.createElement("div",null,l.a.createElement("h2",null,"Hi ",a.username),l.a.createElement("input",{type:"button",onClick:async()=>{try{const{data:e}=await i.a.post("/api/user-settings",{public:!a.public});t(e)}catch(e){console.log(e)}},value:a.public?"Make private":"Make public"}),c?l.a.createElement("div",null,l.a.createElement("div",null,"Hi ",a.username,", you have installed the HubSpot app!"),l.a.createElement("div",null,"Access Token:"),l.a.createElement("div",{style:{fontSize:"7px"}},c),l.a.createElement(m,null)):l.a.createElement("div",null,l.a.createElement("div",null,"Hi ",a.username,", you need to install the HubSpot App"," ",l.a.createElement("a",{href:"oauth/install"},"(Install)")),l.a.createElement("input",{type:"button",onClick:o,value:"Retry fetch"})))};var d=()=>{const[e,t]=Object(n.useState)([]);Object(n.useEffect)(()=>{a()},[]);const a=async()=>{try{const{data:e}=await i.a.get("/api/leaderboard");t(e)}catch(e){console.log(e)}};return l.a.createElement(s,{className:"leaderboard",align:"center",direction:"column"},l.a.createElement("h1",null,"Leaderboard"),l.a.createElement("span",null,"Make your account public to show up in the leaderboard"),l.a.createElement("ul",null,e.map((e,t)=>{let{username:a,score:n}=e;return l.a.createElement("li",{key:t},a,": ",n)})))};var E=()=>{const[e,t]=Object(n.useState)(null);return l.a.createElement("div",{className:"app"},l.a.createElement(u,null),l.a.createElement(s,{className:"content",justify:"center"},e?l.a.createElement(p,{updateUser:t,user:e}):l.a.createElement(o,{onLogin:e=>t(e)})),l.a.createElement(d,null))};r.a.render(l.a.createElement(E,null),document.getElementById("root"))}},[[10,1,2]]]);
//# sourceMappingURL=main.09c8a32b.chunk.js.map